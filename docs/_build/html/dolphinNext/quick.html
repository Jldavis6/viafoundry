

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Start Guide &mdash; DolphinNext 0.3.64 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="DolphinNext 0.3.64 documentation" href="../index.html"/>
        <link rel="next" title="Project Guide" href="project.html"/>
        <link rel="prev" title="Support" href="support.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> DolphinNext
          

          
          </a>

          
            
            
              <div class="version">
                0.3.64
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Short Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Pipeline Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#signing-up">Signing Up</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-profile">Creating Profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-pipelines">Running Pipelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="run.html">Run Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Profile Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazon.html">Amazon Cloud Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dev_quick.html">Developer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Process Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline.html">Pipeline Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DolphinNext</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Quick Start Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/dolphinNext/quick.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start-guide">
<h1>Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="signing-up">
<h2>Signing Up<a class="headerlink" href="#signing-up" title="Permalink to this headline">¶</a></h2>
<p>This guide will walk you through how to start using DolphinNext pipelines. First off, you need to enter DolphinNext web page: <a class="reference external" href="https://dolphinnext.umassmed.edu/">https://dolphinnext.umassmed.edu/</a> and click <strong>Sign Up</strong> or <strong>Sign in with Google</strong> buttons. You will be asked to enter your institute information. An email will be sent to you upon verification of your information.</p>
<a class="reference internal image-reference" href="../_images/sign_in.png"><img alt="../_images/sign_in.png" class="align-center" src="../_images/sign_in.png" style="width: 99%;" /></a>
</div>
<div class="section" id="creating-profile">
<h2>Creating Profile<a class="headerlink" href="#creating-profile" title="Permalink to this headline">¶</a></h2>
<p>Once you enter DolphinNext platform, you need to complete following steps to submit jobs to specifed hosts.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have any issues/questions about creating profiles please contact us on: <a class="reference external" href="mailto:support&#37;&#52;&#48;dolphinnext&#46;com">support<span>&#64;</span>dolphinnext<span>&#46;</span>com</a></p>
</div>
<ol class="arabic">
<li><dl class="first docutils">
<dt>First install software dependencies in the host machine:</dt>
<dd><ul class="first last">
<li><p class="first">Install <a class="reference external" href="https://sylabs.io/guides/3.0/user-guide/installation.html#install-on-linux">Singularity (Version 3)</a> or <a class="reference external" href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">Docker</a> for pipelines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>## Remove old version of Singularity
# sudo rm -rf /usr/local/libexec/singularity /usr/local/var/singularity /usr/local/etc/singularity /usr/local/bin/singularity /usr/local/bin/run-singularity /usr/local/etc/bash_completion.d/singularity

## Install Singularity Version 3
apt-get install -y build-essential libssl-dev uuid-dev libgpgme11-dev libseccomp-dev pkg-config squashfs-tools
wget https://dl.google.com/go/go1.12.7.linux-amd64.tar.gz
tar -C /usr/local -xzf go1.12.7.linux-amd64.tar.gz
export PATH=$PATH:/usr/local/go/bin
export VERSION=3.2.1
wget https://github.com/sylabs/singularity/releases/download/v${VERSION}/singularity-${VERSION}.tar.gz
tar -xzf singularity-${VERSION}.tar.gz
cd singularity
./mconfig &amp;&amp; make -C ./builddir
sudo make -C ./builddir install

## Uninstall Old Versions of Docker
# sudo apt-get remove docker docker-engine docker.io

## Install Docker
sudo apt install docker.io
</pre></div>
</div>
</li>
<li><p class="first">Install <a class="reference external" href="https://www.java.com/en/download/help/linux_x64_install.xml#install">Java v8+</a> for Nextflow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">openjdk</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="n">jdk</span> <span class="o">&amp;&amp;</span> \
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">ant</span> <span class="o">&amp;&amp;</span> \
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">clean</span><span class="p">;</span>

<span class="c1"># Fix certificate issues</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> \
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ca</span><span class="o">-</span><span class="n">certificates</span><span class="o">-</span><span class="n">java</span> <span class="o">&amp;&amp;</span> \
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">clean</span> <span class="o">&amp;&amp;</span> \
<span class="n">update</span><span class="o">-</span><span class="n">ca</span><span class="o">-</span><span class="n">certificates</span> <span class="o">-</span><span class="n">f</span><span class="p">;</span>
<span class="n">export</span> <span class="n">JAVA_HOME</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">jvm</span><span class="o">/</span><span class="n">java</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="n">openjdk</span><span class="o">-</span><span class="n">amd64</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p class="first">Install <a class="reference external" href="https://www.nextflow.io/">Nextflow</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## To install to your ~/bin directory:</span>
<span class="n">mkdir</span> <span class="o">~/</span><span class="nb">bin</span>
<span class="n">cd</span> <span class="o">~/</span><span class="nb">bin</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">fsSL</span> <span class="n">get</span><span class="o">.</span><span class="n">nextflow</span><span class="o">.</span><span class="n">io</span> <span class="o">|</span> <span class="n">bash</span>

<span class="c1"># Add Nextflow binary to your bin PATH or any accessible path in your environment:</span>
<span class="n">chmod</span> <span class="mi">755</span> <span class="n">nextflow</span>
<span class="n">mv</span> <span class="n">nextflow</span> <span class="o">~/</span><span class="nb">bin</span><span class="o">/</span>
<span class="c1"># OR system-wide installation:</span>
<span class="c1"># sudo mv nextflow /usr/local/bin</span>
</pre></div>
</div>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Second, add SSH Key.</dt>
<dd><ul class="first last simple">
<li>Click on the “<strong>Profile</strong>” button at the top right of the screen, and click “<strong>SSH Keys</strong>” tab in profile page.</li>
<li>Click on “<strong>Add SSH Key</strong>” button.</li>
<li>You can <strong>Create New</strong> or <strong>Enter Existing</strong> SSH key pairs in the opened window.</li>
<li>Please check our <a class="reference external" href="https://youtu.be/7wH2NjXSebA">Tutorial Video</a> or <a class="reference external" href="profile.html#ssh-keys">Documention regarding to SSH Keys</a> for details.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Go to host machine and paste public SSH key into <code class="docutils literal notranslate"><span class="pre">~/.ssh/authorized_keys</span></code> file.</dt>
<dd><ul class="first last simple">
<li>Please check our <a class="reference external" href="https://youtu.be/7wH2NjXSebA">Tutorial Video</a> which shows how to edit <code class="docutils literal notranslate"><span class="pre">authorized_keys</span></code> file.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Go to <strong>run environments</strong> section and click add “<strong>Add Environment</strong>” button and specify the hosts you want to use.</p>
<blockquote>
<div><img alt="../_images/profile_tabs2.png" class="align-center" src="../_images/profile_tabs2.png" />
<ul>
<li><p class="first"><strong>Username/Hostname:</strong> You should enter your username and hostname of the host which you would like to connect. For instance, for <a class="reference external" href="mailto:us2r&#37;&#52;&#48;ghpcc06&#46;umassrc&#46;org">us2r<span>&#64;</span>ghpcc06<span>&#46;</span>umassrc<span>&#46;</span>org</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Username</span><span class="p">:</span> <span class="n">us2r</span>
<span class="n">Hostname</span><span class="p">:</span> <span class="n">ghpcc06</span><span class="o">.</span><span class="n">umassrc</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>SSH Keys:</strong> choose SSH keys defined in the SSH keys tab.</p>
</li>
<li><p class="first"><strong>Run Command:</strong> You can run the commands before the nextflow job starts. Please make sure you have added Singularity/Docker and JAVA to $PATH environment before starting nextflow. E.g. You can use following command to load modules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">bashrc</span> <span class="o">&amp;&amp;</span> <span class="n">module</span> <span class="n">load</span> <span class="n">java</span><span class="o">/</span><span class="mf">1.8</span><span class="o">.</span><span class="mi">0</span><span class="n">_77</span> <span class="o">&amp;&amp;</span> <span class="n">module</span> <span class="n">load</span> <span class="n">singularity</span><span class="o">/</span><span class="n">singularity</span><span class="o">-</span><span class="mf">3.4</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Nextflow Path:</strong> If nextflow path is not added to $PATH environment, you can define the path in this block. e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="nb">bin</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Profile Variables:</strong> Since most of the pipelines uses genome reference and index files, you can define a download directory to keep these files. If multiple people are going to use DolphinNext, we would suggest using a shared path in your cluster. e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">params</span><span class="o">.</span><span class="n">DOWNDIR</span><span class="o">=</span><span class="s2">&quot;/share/dolphinnext/downloads&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Executor Settings for Nextflow:</strong> You can set the system where nextflow itself is initiated. Currently local, sge, slurm and lsf executors are supported by DolphinNext to initiate nextflow and it will be only used for running nextflow itself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Suggested</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">long</span> <span class="mi">8</span><span class="n">GB</span> <span class="mi">1</span><span class="n">CPU</span> <span class="mi">5000</span><span class="o">-</span><span class="mi">8000</span><span class="nb">min</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>Executor of Nextflow Jobs:</strong> This setting will be used if you don’t set any parameter in advanced section of your run page:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Suggested</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">short</span> <span class="mi">20</span><span class="n">GB</span> <span class="mi">1</span><span class="n">CPU</span> <span class="mi">240</span><span class="nb">min</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</li>
</ol>
<p>Once you complete these steps, you’re now able to submit jobs to specifed hosts.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please note that DolphinNext doesn’t provide free access to our UMASS clusters. Instead, you need to use your run environment (High Performance Computing (HPC) environments, Amazon cloud services or personal workstations) to execute pipelines.</p>
</div>
</div>
<div class="section" id="running-pipelines">
<h2>Running Pipelines<a class="headerlink" href="#running-pipelines" title="Permalink to this headline">¶</a></h2>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/gaq_LwewFPA" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div>
</br><ol class="arabic">
<li><p class="first">The easiest way to run pipeline is using main page by clicking the <strong>Biocore DolphinNext</strong> button at the top left of the screen. Now, you can investigate publicly available pipelines as shown at below and select the pipeline you want run by clicking <strong>Learn More</strong> button.</p>
<blockquote>
<div><img alt="../_images/main_page.png" class="align-center" src="../_images/main_page.png" />
</div></blockquote>
</li>
<li><p class="first">Once pipeline is loaded, you will notice “Run” button at the right top of the page.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/project_runbutton.png"><img alt="../_images/project_runbutton.png" class="align-center" src="../_images/project_runbutton.png" style="width: 35%;" /></a>
</div></blockquote>
</li>
<li><p class="first">This button opens new window where you can create new project by clicking “Create a Project” button. After entering and saving the name of the project, it will be added to your project list. Now you can select your project by clicking on the project as shown in the figure below.</p>
<blockquote>
<div><img alt="../_images/project_pipeselect.png" class="align-center" src="../_images/project_pipeselect.png" />
</div></blockquote>
</li>
<li><p class="first">Now, you may proceed with entering run name which will be added to your run list of the project. Clicking “Save run” will redirect to “run page”.</p>
</li>
<li><p class="first">Initially, in the header of the run page, orange <code class="docutils literal notranslate"><span class="pre">Waiting</span></code> button will be shown. In order to initiate run, following data need to be entered:</p>
<blockquote>
<div><img alt="../_images/run_header_waiting.png" class="align-center" src="../_images/run_header_waiting.png" />
<ol class="upperalpha">
<li><p class="first"><strong>Work Directory:</strong>  Full path of the directory, where nextflow runs will be executed.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/run_params_work.png"><img alt="../_images/run_params_work.png" class="align-center" src="../_images/run_params_work.png" style="width: 99%;" /></a>
</div></blockquote>
</li>
<li><p class="first"><strong>Run Environment:</strong> Profile that is created in the <a class="reference external" href="profile.html">profile</a>  page. If <a class="reference external" href="profile.html#b-defining-amazon-profile">Amazon profile</a>  is selected, then status of the profile should to be at the stage of <strong>running</strong>.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/run_params_env.png"><img alt="../_images/run_params_env.png" class="align-center" src="../_images/run_params_env.png" style="width: 99%;" /></a>
</div></blockquote>
</li>
<li><p class="first"><strong>Inputs:</strong> Value and path of the files need to be entered.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/run_params_inputs.png"><img alt="../_images/run_params_inputs.png" class="align-center" src="../_images/run_params_inputs.png" style="width: 50%;" /></a>
<p>For detailed information about adding files, you can check our tutorial video:</p>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;">
    <iframe src="https://www.youtube.com/embed/3QaAqdyB11w" frameborder="0" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div>
</br></div></blockquote>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Once all requirements are satisfied, <code class="docutils literal notranslate"><span class="pre">Waiting</span></code> button will turn in to green <code class="docutils literal notranslate"><span class="pre">ready</span> <span class="pre">to</span> <span class="pre">run</span></code> button as shown below. You can initiate your run by clicking <code class="docutils literal notranslate"><span class="pre">ready</span> <span class="pre">to</span> <span class="pre">run</span></code> button. Please go through <a class="reference external" href="run.html">run page</a> for detailed explanation about each module is used.</p>
</li>
</ol>
<img alt="../_images/run_header_ready.png" class="align-center" src="../_images/run_header_ready.png" />
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="project.html" class="btn btn-neutral float-right" title="Project Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="support.html" class="btn btn-neutral" title="Support" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Alper Kucukural, Onur Yukselen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3.64',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>